<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>ğŸ“œ æ¯æ—¥ç”²éª¨æ–‡ Â· ç¢°ä¸€ç¢°å­¦å¤å­—</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #faf7f2;
            color: #2c3e50;
            line-height: 1.6;
            padding: 16px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 500px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 36px 36px 30px 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(160, 120, 80, 0.15);
            padding: 24px 20px 30px 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 24px;
        }
        
        .header h1 {
            font-size: 28px;
            font-weight: 600;
            background: linear-gradient(135deg, #8b5a2b, #5d3a1a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }
        
        .date-badge {
            background: #dac0a1;
            color: #2c3e50;
            padding: 6px 16px;
            border-radius: 40px;
            font-size: 14px;
            display: inline-block;
            margin-top: 8px;
        }
        
        .oracle-card {
            background: #fff9f0;
            border-radius: 28px;
            padding: 30px 20px;
            margin-bottom: 24px;
            border: 2px solid #e0cfbc;
            box-shadow: 0 8px 16px -8px rgba(90, 60, 30, 0.2);
            position: relative;
        }
        
        .oracle-img-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 160px;
            background: #f5ede1;
            border-radius: 40px;
            padding: 16px;
            margin-bottom: 16px;
        }
        
        .oracle-char {
            font-size: 100px;
            line-height: 1.2;
            font-family: "STSong", "åæ–‡å®‹ä½“", "SimSun", "KaiTi", serif;
            color: #3d2b1a;
            text-shadow: 4px 4px 0 #e8cfb7;
        }
        
        .modern-char {
            text-align: center;
            font-size: 36px;
            font-weight: 600;
            color: #5d3a1a;
            margin-top: 8px;
            padding: 8px 0;
            border-top: 2px dotted #d0b89a;
            border-bottom: 2px dotted #d0b89a;
        }
        
        .info-section {
            background: #fcf8f3;
            border-radius: 24px;
            padding: 18px;
            margin-bottom: 24px;
            border: 1px solid #ebddcf;
        }
        
        .info-item {
            margin-bottom: 16px;
        }
        
        .info-label {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #866445;
            margin-bottom: 6px;
            font-size: 18px;
        }
        
        .info-content {
            font-size: 16px;
            color: #3d2f24;
            padding-left: 34px;
            line-height: 1.7;
        }
        
        .ai-section {
            background: linear-gradient(145deg, #f4eee7, #ffffff);
            border-radius: 28px;
            padding: 20px;
            box-shadow: 0 8px 20px rgba(120, 80, 50, 0.08);
            border: 1px solid #decbb8;
        }
        
        .ai-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 600;
            color: #5f4a36;
            margin-bottom: 14px;
        }
        
        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 16px;
        }
        
        .input-group input {
            flex: 1;
            padding: 16px 18px;
            border: 2px solid #e0cfbc;
            border-radius: 44px;
            font-size: 16px;
            background: #fffdf9;
            outline: none;
        }
        
        .input-group input:focus {
            border-color: #b38b6d;
            box-shadow: 0 0 0 3px rgba(179, 139, 109, 0.2);
        }
        
        .input-group button {
            background: #8b6d53;
            color: white;
            border: none;
            border-radius: 44px;
            padding: 0 24px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(110, 70, 40, 0.2);
        }
        
        .input-group button:active {
            background: #6b4f3a;
            transform: scale(0.97);
        }
        
        .answer-box {
            background: #f1e7dd;
            border-radius: 28px;
            padding: 18px;
            min-height: 80px;
            font-size: 16px;
            color: #2c3e50;
            border: 1px solid #d7bca2;
            line-height: 1.6;
        }
        
        .example-questions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 12px 0 6px;
        }
        
        .example-tag {
            background: #ece0d3;
            padding: 6px 14px;
            border-radius: 40px;
            font-size: 13px;
            color: #5d3a1a;
            border: 1px solid #c9b19b;
            cursor: pointer;
        }
        
        .loading {
            display: inline-block;
            width: 18px;
            height: 18px;
            border: 3px solid #e0cfbc;
            border-top-color: #8b6d53;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin-right: 8px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .nfc-hint {
            background: rgba(210, 180, 140, 0.2);
            border-radius: 40px;
            padding: 6px 14px;
            font-size: 13px;
            color: #7b5f42;
            display: inline-flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nfc-hint">
            <span>ğŸ“±</span> ç¢°ä¸€ç¢° Â· æ¯æ—¥ç”²éª¨æ–‡ <span>âš¡</span>
        </div>
        
        <div class="header">
            <h1>ğŸš æ¯æ—¥ç”²éª¨æ–‡</h1>
            <div class="date-badge" id="dateDisplay"></div>
        </div>
        
        <!-- ç”²éª¨æ–‡å±•ç¤ºå¡ç‰‡ -->
        <div class="oracle-card">
            <div class="oracle-img-container">
                <div class="oracle-char" id="oracleChar">ğ–¦¹</div>
            </div>
            <div class="modern-char" id="modernChar">åŠ è½½ä¸­...</div>
        </div>
        
        <!-- é‡Šä¹‰åŒºåŸŸ -->
        <div class="info-section">
            <div class="info-item">
                <div class="info-label"><span>ğŸ“–</span> æœ¬ä¹‰</div>
                <div class="info-content" id="meaning">...</div>
            </div>
            <div class="info-item">
                <div class="info-label"><span>ğŸ”„</span> æ¼”å˜</div>
                <div class="info-content" id="evolution">...</div>
            </div>
            <div class="info-item">
                <div class="info-label"><span>ğŸº</span> ç›¸å…³</div>
                <div class="info-content" id="related">...</div>
            </div>
        </div>
        
        <!-- AI é—®ç­”åŒºåŸŸ -->
        <div class="ai-section">
            <div class="ai-title">ç”²éª¨æ–‡å°åŠ©æ‰‹</div>
            <div class="example-questions">
                <span class="example-tag" onclick="setQuestion('è¿™ä¸ªå­—æ€ä¹ˆè¯»ï¼Ÿ')">ğŸ”Š æ€ä¹ˆè¯»</span>
                <span class="example-tag" onclick="setQuestion('è¿™ä¸ªå­—çš„èµ·æºæ•…äº‹ï¼Ÿ')">ğŸ“œ èµ·æº</span>
                <span class="example-tag" onclick="setQuestion('ç”¨åœ¨å“ªäº›è¯è¯­é‡Œï¼Ÿ')">âœï¸ ç»„è¯</span>
                <span class="example-tag" onclick="setQuestion('æœ‰ä»€ä¹ˆæ–‡åŒ–å«ä¹‰ï¼Ÿ')">ğŸ›ï¸ æ–‡åŒ–</span>
            </div>
            <div class="input-group">
                <input type="text" id="questionInput" placeholder="è¾“å…¥ä½ çš„é—®é¢˜...">
                <button onclick="askAI()">æé—®</button>
            </div>
            <div class="answer-box" id="answerBox">
                <span style="color: #9b8a7a;">ğŸ‘† è¯•è¯•é—®å…³äºè¿™ä¸ªå­—çš„é—®é¢˜</span>
            </div>
        </div>
        
        <div style="margin-top: 20px; text-align: center; font-size: 13px; color: #b1967a;">
            <span>ç¢°ä¸€ç¢° Â· æ¯æ—¥ä¸€å­— Â· ç©¿è¶Šä¸‰åƒå¹´</span>
        </div>
    </div>

    <script>
        // ==================== ç”²éª¨æ–‡æ•°æ®åº“ ====================
        const oracleDB = [
            { char: "â˜€ï¸", modern: "æ—¥", meaning: "å¤ªé˜³ã€‚è±¡å½¢æ–‡å­—ï¼Œè½®å»“åƒå¤ªé˜³çš„åœ†å½¢ï¼Œä¸­é—´ä¸€ç‚¹è¡¨ç¤ºå¤ªé˜³çš„é»‘å­æˆ–å…‰ã€‚", evolution: "ç”²éª¨æ–‡â˜€ï¸ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'æ—¥'ã€‚ä»åœ†å½¢é€æ¸æ–¹æ•´åŒ–ã€‚", related: "æ—¥æœˆã€æ—¥å­ã€æ—¥æœ¬ã€‚åœ¨ç”²éª¨æ–‡ä¸­å¸¸è¡¨ç¤ºç™½å¤©ã€ä¸€å¤©çš„æ—¶é—´ã€‚" },
            { char: "ğŸŒ™", modern: "æœˆ", meaning: "æœˆäº®ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒä¸€å¼¯æ–°æœˆçš„å½¢çŠ¶ã€‚", evolution: "ç”²éª¨æ–‡ğŸŒ™ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'æœˆ'ã€‚å¼¯æœˆå½¢é€æ¸çº¿æ¡åŒ–ã€‚", related: "æœˆäº®ã€æœˆä»½ã€æœˆçƒã€‚ç”²éª¨æ–‡ä¸­ç”¨æ¥è¡¨ç¤ºå¤œæ™šå’Œæœˆä»½ã€‚" },
            { char: "ğŸ’§", modern: "æ°´", meaning: "æ²³æµã€æ°´ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒå¼¯æ›²çš„æ²³æµï¼Œä¸¤æ—æ˜¯æ°´æ»´æˆ–æ²³å²¸ã€‚", evolution: "ç”²éª¨æ–‡ğŸ’§ï¼ˆåƒæµæ°´ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'æ°´'ã€‚", related: "æ°´ã€æ²³æµã€æ°´ç¾ã€‚åœ¨ç”²éª¨æ–‡ä¸­å¸¸è¡¨ç¤ºæ²³æµåç§°æˆ–æ°´ã€‚" },
            { char: "ğŸŒ²", modern: "æœ¨", meaning: "æ ‘æœ¨ã€‚è±¡å½¢æ–‡å­—ï¼Œä¸Šéƒ¨ä¸ºæ ‘æï¼Œä¸‹éƒ¨ä¸ºæ ‘æ ¹ã€‚", evolution: "ç”²éª¨æ–‡ğŸŒ²ï¼ˆæœ‰ææœ‰æ ¹ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'æœ¨'ã€‚", related: "æ ‘æœ¨ã€æœ¨æã€æœ¨æ˜Ÿã€‚æ˜¯å¾ˆå¤šæ ‘æœ¨ç±»æ±‰å­—çš„åæ—ã€‚" },
            { char: "ğŸ‚", modern: "ç‰›", meaning: "ç‰›ã€‚è±¡å½¢æ–‡å­—ï¼Œç®€åŒ–åœ°ç”»å‡ºç‰›å¤´çš„æ­£é¢å½¢è±¡ï¼Œçªå‡ºç‰›è§’ã€‚", evolution: "ç”²éª¨æ–‡ğŸ‚ï¼ˆç‰›å¤´å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'ç‰›'ã€‚", related: "ç‰›ã€ç‰›ç¾Šã€ç‰›è€•ã€‚ç¥­ç¥€å¸¸ç”¨ç‰ºç‰²ã€‚" },
            { char: "ğŸ", modern: "ç¾Š", meaning: "ç¾Šã€‚è±¡å½¢æ–‡å­—ï¼Œçªå‡ºç¾Šè§’å’Œç¾Šè„¸ã€‚", evolution: "ç”²éª¨æ–‡ğŸï¼ˆç¾Šå¤´å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'ç¾Š'ã€‚", related: "ç¾Šã€å±±ç¾Šã€ç¾Šç¾¤ã€‚è±¡å¾å‰ç¥¥ï¼ˆç¥¥å­—çš„æ¥æºï¼‰ã€‚" },
            { char: "ğŸ‘¤", modern: "äºº", meaning: "äººã€‚è±¡å½¢æ–‡å­—ï¼Œä¾§é¢ç«™ç«‹çš„äººå½¢ï¼Œæœ‰æ‰‹æœ‰è„šã€‚", evolution: "ç”²éª¨æ–‡ğŸ‘¤ï¼ˆä¾§ç«‹äººå½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'äºº'ã€‚", related: "äººç±»ã€äººæ°‘ã€äººç‰©ã€‚æ˜¯å¾ˆå¤šä¸äººç›¸å…³æ±‰å­—çš„åæ—ã€‚" },
            { char: "ğŸ‘ï¸", modern: "ç›®", meaning: "çœ¼ç›ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒä¸€åªçœ¼ç›çš„å½¢çŠ¶ã€‚", evolution: "ç”²éª¨æ–‡ğŸ‘ï¸ï¼ˆçœ¼ç›å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'ç›®'ã€‚", related: "çœ¼ç›ã€ç›®å…‰ã€ç›®æ ‡ã€‚" },
            { char: "ğŸŒ¾", modern: "ç¦¾", meaning: "è°·ç‰©ã€ç¦¾è‹—ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒä¸€æ ªæˆç†Ÿä¸‹å‚çš„è°·ç©—ã€‚", evolution: "ç”²éª¨æ–‡ğŸŒ¾ï¼ˆè°·ç©—å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'ç¦¾'ã€‚", related: "ç¦¾è‹—ã€åº„ç¨¼ã€ç¦¾æœ¬ç§‘ã€‚ä¸å†œä¸šç›¸å…³ã€‚" },
            { char: "ğŸ”¥", modern: "ç«", meaning: "ç«ç„°ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒç‡ƒçƒ§çš„ç«ç„°å½¢çŠ¶ã€‚", evolution: "ç”²éª¨æ–‡ğŸ”¥ï¼ˆç«ç„°å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'ç«'ã€‚", related: "ç«ã€ç«ç„°ã€ç«å…‰ã€‚" },
            { char: "â›°ï¸", modern: "å±±", meaning: "å±±ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒå¹¶æ’çš„å±±å³°ã€‚", evolution: "ç”²éª¨æ–‡â›°ï¸ï¼ˆä¸‰å³°å¹¶ç«‹ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'å±±'ã€‚", related: "å±±ã€å±±å³°ã€å±±å·ã€‚" },
            { char: "ğŸš", modern: "è´", meaning: "è´å£³ã€‚è±¡å½¢æ–‡å­—ï¼Œåƒå¼ å¼€çš„æµ·è´å½¢çŠ¶ã€‚å¤ä»£æ›¾ç”¨ä½œè´§å¸ã€‚", evolution: "ç”²éª¨æ–‡ğŸšï¼ˆè´å£³å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'è´'ã€‚", related: "è´å£³ã€å®è´ã€è´§å¸ï¼ˆè´æ˜¯è´¢å­—çš„åæ—ï¼‰ã€‚" },
            { char: "ğŸ¦Œ", modern: "é¹¿", meaning: "é¹¿ã€‚è±¡å½¢æ–‡å­—ï¼Œçªå‡ºé¹¿è§’ã€é¹¿èº«ã€‚", evolution: "ç”²éª¨æ–‡ğŸ¦Œï¼ˆé¹¿å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'é¹¿'ã€‚", related: "é¹¿ã€æ¢…èŠ±é¹¿ã€é€é¹¿ä¸­åŸã€‚" },
            { char: "ğŸ˜", modern: "è±¡", meaning: "å¤§è±¡ã€‚è±¡å½¢æ–‡å­—ï¼Œçªå‡ºé•¿é¼»å’Œåºå¤§çš„èº«èº¯ã€‚", evolution: "ç”²éª¨æ–‡ğŸ˜ï¼ˆè±¡å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'è±¡'ã€‚", related: "å¤§è±¡ã€è±¡ç‰™ã€å½¢è±¡ã€‚" },
            { char: "ğŸ‰", modern: "é¾™", meaning: "é¾™ã€‚ç¥è¯åŠ¨ç‰©ï¼Œè±¡å½¢æ–‡å­—ï¼Œæç»˜äº†ä¼ è¯´ä¸­çš„é¾™å½¢ã€‚", evolution: "ç”²éª¨æ–‡ğŸ‰ï¼ˆé¾™å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'é¾™'ã€‚", related: "é¾™ã€é¾™ç‹ã€é¾™å›¾è…¾ã€‚" },
            { char: "ğŸ…", modern: "è™", meaning: "è™ã€‚è±¡å½¢æ–‡å­—ï¼Œçªå‡ºè™çº¹å’Œè¡€ç›†å¤§å£ã€‚", evolution: "ç”²éª¨æ–‡ğŸ…ï¼ˆè™å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'è™'ã€‚", related: "è™ã€è€è™ã€è™ç¬¦ã€‚" },
            { char: "ğŸ‡", modern: "å…”", meaning: "å…”å­ã€‚è±¡å½¢æ–‡å­—ï¼Œæç»˜å…”å­çš„é•¿è€³å’ŒçŸ­å°¾ã€‚", evolution: "ç”²éª¨æ–‡ğŸ‡ï¼ˆå…”å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'å…”'ã€‚", related: "å…”ã€å…”å­ã€ç‰å…”ã€‚" },
            { char: "ğŸ¢", modern: "é¾Ÿ", meaning: "ä¹Œé¾Ÿã€‚è±¡å½¢æ–‡å­—ï¼Œæç»˜é¾Ÿçš„ä¿¯è§†æˆ–ä¾§è§†å½¢çŠ¶ã€‚", evolution: "ç”²éª¨æ–‡ğŸ¢ï¼ˆé¾Ÿå½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'é¾Ÿ'ã€‚", related: "é¾Ÿã€ä¹Œé¾Ÿã€é¾Ÿç”²ï¼ˆå åœç”¨ï¼‰ã€‚" },
            { char: "ğŸŸ", modern: "é±¼", meaning: "é±¼ã€‚è±¡å½¢æ–‡å­—ï¼Œæç»˜é±¼çš„å½¢çŠ¶ï¼Œæœ‰é³æœ‰å°¾ã€‚", evolution: "ç”²éª¨æ–‡ğŸŸï¼ˆé±¼å½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'é±¼'ã€‚", related: "é±¼ã€é±¼ç±»ã€æ¸”çŒã€‚" },
            { char: "ğŸ•Šï¸", modern: "é¸Ÿ", meaning: "é¸Ÿã€‚è±¡å½¢æ–‡å­—ï¼Œæç»˜é¸Ÿçš„å½¢çŠ¶ï¼Œæœ‰å–™ã€ç¿…ã€çˆªã€‚", evolution: "ç”²éª¨æ–‡ğŸ•Šï¸ï¼ˆé¸Ÿå½¢ï¼‰ â†’ é‡‘æ–‡ â†’ å°ç¯† â†’ æ¥·ä¹¦'é¸Ÿ'ã€‚", related: "é¸Ÿã€é£é¸Ÿã€é¸Ÿç±»ã€‚" }
        ];

        // ==================== è·å–ä»Šæ—¥ç”²éª¨æ–‡ ====================
        function getTodaysOracle() {
            const today = new Date();
            const seed = today.getFullYear() * 372 + (today.getMonth() + 1) * 31 + today.getDate();
            return oracleDB[seed % oracleDB.length];
        }

        // ==================== æ›´æ–°é¡µé¢ ====================
        function updatePage() {
            const todays = getTodaysOracle();
            const d = new Date();
            
            document.getElementById('oracleChar').innerText = todays.char;
            document.getElementById('modernChar').innerText = todays.modern;
            document.getElementById('meaning').innerText = todays.meaning;
            document.getElementById('evolution').innerText = todays.evolution;
            document.getElementById('related').innerText = todays.related;
            document.getElementById('dateDisplay').innerText = `${d.getFullYear()}å¹´${d.getMonth()+1}æœˆ${d.getDate()}æ—¥ Â· ${todays.modern}`;
            document.getElementById('questionInput').value = '';
            document.getElementById('answerBox').innerHTML = '<span style="color: #9b8a7a;">ğŸ‘† è¯•è¯•é—®å…³äºè¿™ä¸ªå­—çš„é—®é¢˜</span>';
        }

        // ==================== AIé—®ç­”ï¼ˆå®‰å…¨ç‰ˆÂ·æ— éœ€API Keyï¼‰====================
        async function askAI() {
            const question = document.getElementById('questionInput').value.trim();
            if (!question) return alert('è¯·è¾“å…¥ä¸€ä¸ªé—®é¢˜');
            
            const todays = getTodaysOracle();
            const answerBox = document.getElementById('answerBox');
            answerBox.innerHTML = '<span class="loading"></span> ç”²éª¨æ–‡å°åŠ©æ‰‹æ­£åœ¨æ€è€ƒ...';
            
            try {
                // ä½¿ç”¨å…è´¹ä»£ç†ï¼Œå®Œå…¨å®‰å…¨ï¼Œæ— éœ€API Key
                const response = await fetch('https://api.nn.ci/deepseek/v1/chat/completions', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            { 
                                role: 'system', 
                                content: `ä½ æ˜¯ä¸€ä½ç”²éª¨æ–‡å­¦è€…ã€‚ä»Šå¤©æ˜¯å…³äºç”²éª¨æ–‡"${todays.modern}"ï¼ˆ${todays.char}ï¼‰ã€‚å®ƒçš„æœ¬ä¹‰æ˜¯ï¼š${todays.meaning}ã€‚ç›¸å…³çŸ¥è¯†ï¼š${todays.related}ã€‚è¯·ç”¨é€šä¿—æœ‰è¶£çš„è¯­è¨€å›ç­”é—®é¢˜ï¼Œ100å­—å·¦å³ã€‚` 
                            },
                            { role: 'user', content: question }
                        ]
                    })
                });
                
                if (!response.ok) throw new Error('ç½‘ç»œé”™è¯¯');
                const data = await response.json();
                answerBox.innerHTML = data.choices?.[0]?.message?.content || 'AIæš‚æ—¶æ— æ³•å›ç­”';
                
            } catch (error) {
                // ç½‘ç»œå¤±è´¥æ—¶è‡ªåŠ¨ä½¿ç”¨æœ¬åœ°æ¨¡æ‹Ÿå›ç­”
                answerBox.innerHTML = getMockAnswer(question, todays) + 
                    '<br><span style="font-size:12px; color:#b98f6b;">ğŸ“¶ ç½‘ç»œç¦»çº¿ï¼Œä½¿ç”¨æœ¬åœ°å›ç­”</span>';
            }
        }

        // æœ¬åœ°æ¨¡æ‹Ÿå›ç­”ï¼ˆå¤‡ç”¨ï¼‰
        function getMockAnswer(question, todays) {
            const q = question.toLowerCase();
            if (q.includes('è¯»') || q.includes('éŸ³')) {
                return `"${todays.modern}" åœ¨ç°ä»£æ±‰è¯­ä¸­è¯»ä½œ "${todays.modern}"ã€‚åœ¨ç”²éª¨æ–‡æ—¶ä»£ï¼Œå®ƒçš„è¯»éŸ³å¯èƒ½ä¸ç°ä»£ä¸åŒï¼Œä½†å­¦è€…é€šè¿‡ç³»ç»Ÿæ¯”è¾ƒå¯ä»¥æ¨æµ‹å…¶ä¸Šå¤è¯»éŸ³ã€‚`;
            } else if (q.includes('èµ·æº') || q.includes('æ•…äº‹')) {
                return `${todays.meaning.split('ã€‚')[0]}ã€‚å¤äººè§‚å¯Ÿè‡ªç„¶ï¼Œç”¨ç®€å•çš„çº¿æ¡å‹¾å‹’å‡ºæ ¸å¿ƒç‰¹å¾ï¼Œè¿™å°±æ˜¯ç”²éª¨æ–‡çš„é­…åŠ›ã€‚`;
            } else {
                return `"${todays.modern}" å­—${todays.meaning}ã€‚åœ¨ç”²éª¨æ–‡ä¸­ï¼Œå®ƒå¸¸ä¸${todays.related.slice(0, 15)}ç­‰ç›¸å…³ã€‚æƒ³çŸ¥é“æ›´å¤šï¼Œå¯ä»¥é—®å¾—å…·ä½“ä¸€äº›å“¦ï¼`;
            }
        }

        // è®¾ç½®é—®é¢˜è¾“å…¥æ¡†
        function setQuestion(text) {
            document.getElementById('questionInput').value = text;
        }

        // åˆå§‹åŒ–
        window.onload = function() {
            updatePage();
            document.getElementById('questionInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') askAI();
            });
        };
    </script>
</body>
</html>
